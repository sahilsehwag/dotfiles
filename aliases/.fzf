#VARIABLES
	EDITOR=nvim
	GEDITOR=gvim.exe
	SEDITOR=emacs
	DRIVE=~/Google\ Drive
	alias fzf='fzf-tmux'
#GENERAL FUNCTIONS
	fd(){
		if [ $1 ] 
		then
			$1 "$(find $2 -type d -name "*" 2> /dev/null | fzf)"
		else
			echo "No command specified"
		fi
	}
	ffh(){
		if [ $1 ] 
		then
			$1 "$(find ~ -type f -name "*" | fzf)"
		else
			echo "No command specified"
		fi
	}
	ffd(){
		if [ $1 ] 
		then
			$1 "$(find $DRIVE -type f -name "*" | fzf)"
		else
			echo "No command specified"
		fi
	}
	ff(){
		if [ $1 ] 
		then
			$1 "$(find $2 -type f -name "*" | fzf)"
		else
			echo "No command specified"
		fi
	}
#NAVIGATION
	alias fj='cd "$(find "`pwd`" -type d -name "*" | fzf)"'
	alias fjh='cd "$(find ~ -type d -name "*" | fzf)"'
	alias fjd='cd "$(find $DRIVE -type d -name "*" | fzf)"'
#TOOLS
	#EMACS
		alias fe='$SEDITOR "$(find "`pwd`" -type f -name "*" | fzf)"'
		alias feh='$SEDITOR "$(find ~ -type f -name "*" | fzf)"'
		alias fed='$SEDITOR "$(find $ONEDRIVE -type f -name "*" | fzf)"'
	#VIM
		alias fv='$EDITOR "$(find "`pwd`" -type f -name "*" | fzf)"'
		alias fvh='$EDITOR "$(find ~ -type f -name "*" | fzf)"'
		alias fvd='$EDITOR "$(find $DRIVE -type f -name "*" | fzf)"'
	#VIFM
		alias vifm.='vifm "$(find "`pwd`" -type d -name "*" | fzf)"'
		alias vifmd='vifm "$(find $DRIVE -type d -name "*" | fzf)"'
		alias vifmh='vifm "$(find ~ -type d -name "*" | fzf)"'
	#TMUX
		#alias fts='tmux switch -t $(tmux list-sessions | awk "{ print $1 }" | sed "s/://" | fzf-tmux)'
		#alias ftw='tmux select-window -t $(tmux list-sessions | awk "{ print $1 }" | sed "s/://" | fzf-tmux)'
	#GIT
		fbranch() {
			local branches branch
			branches=$(git branch -vv) &&
			branch=$(echo "$branches" | fzf +m) &&
			git checkout $(echo "$branch" | awk '{print $1}' | sed "s/.* //")
		}
		fshow() {
			git log --graph --color=always \
				--format="%C(auto)%h%d %s %C(black)%C(bold)%cr" "$@" |
				fzf --ansi --no-sort --reverse --tiebreak=index --bind=ctrl-s:toggle-sort \
				--bind "ctrl-m:execute:
				(grep -o '[a-f0-9]\{7\}' | head -1 |
				 xargs -I % sh -c 'git show --color=always % | less -R') << 'FZF-EOF'
				{}
			FZF-EOF"
		}
		fcout() {
			local commits commit
			commits=$(git log --pretty=oneline --abbrev-commit --reverse) &&
			commit=$(echo "$commits" | fzf --tac +s +m -e) &&
			git checkout $(echo "$commit" | sed "s/ .*//")
		}
		fstash() {
			local out q k sha
				while out=$(
						git stash list --pretty="%C(yellow)%h %>(14)%Cgreen%cr %C(blue)%gs" |
						fzf --ansi --no-sort --query="$q" --print-query \
						--expect=ctrl-d,ctrl-b);
			do
				mapfile -t out <<< "$out"
				q="${out[0]}"
				k="${out[1]}"
				sha="${out[-1]}"
				sha="${sha%% *}"
				[[ -z "$sha" ]] && continue
				if [[ "$k" == 'ctrl-d' ]]; then
					git diff $sha
				elif [[ "$k" == 'ctrl-b' ]]; then
					git stash branch "stash-$sha" $sha
					break;
				else
					git stash show -p $sha
				fi
			done
		}
	#CTAGS
		ftags() {
			local line
			[ -e tags ] &&
			line=$(
					awk 'BEGIN { FS="\t" } !/^!/ {print toupper($4)"\t"$1"\t"$2"\t"$3}' tags |
					cut -c1-80 | fzf --nth=1,2
				  ) && ${EDITOR:-vim} $(cut -f3 <<< "$line") -c "set nocst" \
				-c "silent tag $(cut -f2 <<< "$line")"
		}
#PREINSTALLED
	kill() {
		local pid
		pid=$(ps -ef | sed 1d | fzf -m | awk '{print $2}')

		if [ "x$pid" != "x" ]
		then
			echo $pid | xargs kill -${1:-9}
		fi
	}
#WINDOWS APPLICATION
	#GVIM
		#alias fg='$GEDITOR "$(find "`pwd`" -type f -name "*" | fzf | sed -e "s/\/mnt\///" | sed -e "s/c/C:/")"' 
		#alias fgh='$GEDITOR "$(find ~ -type f -name "*" | fzf | sed -e "s/\/mnt\///" | sed -e "s/c/C:/")"'
		#alias fgo='$GEDITOR "$(find $DRIVE -type f -name "*" | fzf | sed -e "s/\/mnt\///" | sed -e "s/c/C:/")"'
	#MEDIA
		#alias wmp='"$WMP" "$(find "${MDIRS[@]}" -type f -name "*.mp3" 2> /dev/null | fzf)"'
#APPLICATIONS
	alias launch='"$(find "${EXEDIRS[@]}" -type f -name "*.exe" 2> /dev/null | fzf)"'
	#alias vlc='"$VLC" "$(find "${VDIRS[@]}" -type f -name "*.mp4" -o -name "*.flv" -o -name "*.mkv" 2> /dev/null | fzf)"'
